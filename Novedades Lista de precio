void schedule.novedades_listaprecio()
{
username = "todocostura";
password = "TC0stur4!";
credentials = username + ":" + password;
encoded_credentials = zoho.encryption.base64Encode(credentials);
headers = Map();
headers.put("Authorization","Basic " + encoded_credentials);
headers.put("Content-Type","application/json");
api_url = "http://190.110.230.161:8282/pricesList";
response = invokeurl
[
	url :api_url
	type :GET
	headers:headers
];
if(response != null && response.size() > 0)
{
	for each  record in response
	{
		data = Map();
		codLista = record.get("codListaPrecio");
		data.put("Cod_Lista_de_Precio",codLista);
		nombrelista = record.get("descripcion");
		nameliprecio = codLista + " - " + nombrelista;
		data.put("Name",nameliprecio);
		//buscar lista de precio en zoho
		searchResponse = zoho.crm.searchRecords("Price_Books","(Cod_Lista_de_Precio:equals:" + codLista + ")");
		if(searchResponse.size() > 0)
		{
			listaprecioid = searchResponse.get(0).get("id");
			updateResponse = zoho.crm.updateRecord("Price_Books",listaprecioid,data);
			info "Lista de precio " + listaprecioid + " actualizado: " + updateResponse;
		}
		else
		{
			createResponse = zoho.crm.createRecord("Price_Books",data);
			info "Lista de precio " + listaprecioid + " creado: " + createResponse;
		}
	}
}
}
